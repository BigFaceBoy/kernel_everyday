# Dot Product
- dot_prod_f32_f32_kernel
- dot_prod_f32x4_f32_kernel(float4向量化版本)
- dot_prod_f16_f32_kernel(fp16版本，使用fp32 acc)
- dot_prod_f16x2_f32_kernel(fp16向量化版本，使用fp32 acc)
- dot_prod_f16x8_pack_f32_kernel(fp16向量化版本，使用fp32 acc, pack)


向量 $x = (x_1,x_2,x_3,...,x_n)$ 和 $y = (y_1,y_2,y_3,...,y_n)$的点积为：
$$
x \cdot y = x_1y_1 +  x_2y_2 + x_3y_3 + ... +x_ny_n
$$ 

一系列数相加，自然想到之前写的reduce.

# benchmark

--------------------------------------------------------------------------------
                         S=1024, K=1024
       out_f32f32: 1414.40563965  , time:0.02527285ms
     out_f32x4f32: 1414.40124512  , time:0.02069950ms
    out_f32f32_th: 1414.40051270  , time:0.02262497ms
--------------------------------------------------------------------------------
       out_f16f32: 1414.12011719  , time:0.02519822ms
     out_f16x2f32: 1413.48547363  , time:0.02191949ms
 out_f16x8packf32: 1413.61474609  , time:0.01988244ms
    out_f16f16_th: 1414.00000000  , time:0.02279496ms
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
                         S=1024, K=2048
       out_f32f32: -1087.78271484 , time:0.03174019ms
     out_f32x4f32: -1087.78430176 , time:0.02470255ms
    out_f32f32_th: -1087.78381348 , time:0.02401304ms
--------------------------------------------------------------------------------
       out_f16f32: -1088.54895020 , time:0.03157258ms
     out_f16x2f32: -1088.89794922 , time:0.02578902ms
 out_f16x8packf32: -1088.33740234 , time:0.02310848ms
    out_f16f16_th: -1089.00000000 , time:0.02301741ms
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
                         S=1024, K=4096
       out_f32f32: 1301.12768555  , time:0.04508781ms
     out_f32x4f32: 1301.13122559  , time:0.02582407ms
    out_f32f32_th: 1301.12939453  , time:0.02878881ms
--------------------------------------------------------------------------------
       out_f16f32: 1301.78417969  , time:0.04462194ms
     out_f16x2f32: 1301.23144531  , time:0.03142095ms
 out_f16x8packf32: 1302.27111816  , time:0.02384996ms
    out_f16f16_th: 1302.00000000  , time:0.02584553ms
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
                         S=2048, K=1024
       out_f32f32: 1583.84924316  , time:0.03145862ms
     out_f32x4f32: 1583.85070801  , time:0.02422976ms
    out_f32f32_th: 1583.84936523  , time:0.02472067ms
--------------------------------------------------------------------------------
       out_f16f32: 1584.40405273  , time:0.03150249ms
     out_f16x2f32: 1584.75231934  , time:0.02525258ms
 out_f16x8packf32: 1584.32543945  , time:0.02357888ms
    out_f16f16_th: 1584.00000000  , time:0.02295136ms
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
                         S=2048, K=2048
       out_f32f32: -772.86608887  , time:0.04679489ms
     out_f32x4f32: -772.86322021  , time:0.02580190ms
    out_f32f32_th: -772.86413574  , time:0.02732086ms
--------------------------------------------------------------------------------
       out_f16f32: -773.91192627  , time:0.04547739ms
     out_f16x2f32: -773.71997070  , time:0.03151751ms
 out_f16x8packf32: -774.02111816  , time:0.02233410ms
    out_f16f16_th: -774.00000000  , time:0.02662182ms
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
                         S=2048, K=4096
       out_f32f32: 1616.26867676  , time:0.06879282ms
     out_f32x4f32: 1616.28527832  , time:0.03446436ms
    out_f32f32_th: 1616.28649902  , time:0.03427720ms
--------------------------------------------------------------------------------
       out_f16f32: 1614.81994629  , time:0.06996012ms
     out_f16x2f32: 1614.45837402  , time:0.04399848ms
 out_f16x8packf32: 1613.90771484  , time:0.02718520ms
    out_f16f16_th: 1615.00000000  , time:0.02927542ms
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
                         S=4096, K=1024
       out_f32f32: -5.11744881    , time:0.04476094ms
     out_f32x4f32: -5.10972977    , time:0.02574921ms
    out_f32f32_th: -5.10998535    , time:0.02747893ms
--------------------------------------------------------------------------------
       out_f16f32: -5.32107258    , time:0.04536033ms
     out_f16x2f32: -5.53479767    , time:0.03145528ms
 out_f16x8packf32: -4.74752808    , time:0.02245116ms
    out_f16f16_th: -5.32031250    , time:0.02639437ms
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
                         S=4096, K=2048
       out_f32f32: 795.29180908   , time:0.06974673ms
     out_f32x4f32: 795.28295898   , time:0.03451180ms
    out_f32f32_th: 795.27911377   , time:0.03407049ms
--------------------------------------------------------------------------------
       out_f16f32: 793.59527588   , time:0.06964779ms
     out_f16x2f32: 792.71862793   , time:0.04394054ms
 out_f16x8packf32: 792.96411133   , time:0.02595711ms
    out_f16f16_th: 793.50000000   , time:0.03017139ms
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
                         S=4096, K=4096
       out_f32f32: 1923.44506836  , time:0.19392514ms
     out_f32x4f32: 1923.46118164  , time:0.19791222ms
    out_f32f32_th: 1923.46508789  , time:0.20244479ms
--------------------------------------------------------------------------------
       out_f16f32: 1922.80456543  , time:0.11831880ms
     out_f16x2f32: 1921.91418457  , time:0.06862950ms
 out_f16x8packf32: 1923.79724121  , time:0.03431201ms
    out_f16f16_th: 1923.00000000  , time:0.03467274ms
--------------------------------------------------------------------------------