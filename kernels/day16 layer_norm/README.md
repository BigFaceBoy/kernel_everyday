# LayerNorm
- layer_norm_f32_kernel
- layer_norm_f32x4_kernel
- layer_norm_f16_f16_kernel
- layer_norm_f16x2_f16_kernel
- layer_norm_f16x8_f16_kernel
- layer_norm_f16x8_pack_f16_kernel
- layer_norm_f16x8_pack_f32_kernel
- layer_norm_f16_f32_kernel

计算公式：

$$
\mu = \frac{1}{N}\sum^N_{i=1}x_i $$
$$\sigma^2 = \frac{1}{N}\sum^N_{i=1}(x_i - \mu)^2 $$
$$LayerNorm(x_i) = \frac{x_i - \mu}{\sqrt{\sigma^2 + \epsilon}} * g + b
$$

# benchmark
-------------------------------------------------------------------------------------
                                        N=4096, K=512
-------------------------------------------------------------------------------------
          out_f32: ['-0.11527774 ', '0.47294986  ', '-0.85467875 '], time:0.02010846ms
        out_f32x4: ['-0.11527775 ', '0.4729498   ', '-0.85467875 '], time:0.01143408ms
       out_f32_th: ['-0.11516576 ', '0.47249034  ', '-0.8538484  '], time:0.12747383ms
-------------------------------------------------------------------------------------
       out_f16f16: ['-0.11529541 ', '0.47314453  ', '-0.85498047 '], time:0.02001214ms
       out_f16f32: ['-0.11529541 ', '0.47314453  ', '-0.85498047 '], time:0.01991582ms
     out_f16x2f16: ['-0.11529541 ', '0.47314453  ', '-0.85498047 '], time:0.01374531ms
     out_f16x8f16: ['-0.11535645 ', '0.47314453  ', '-0.85498047 '], time:0.01111770ms
 out_f16x8packf16: ['-0.11535645 ', '0.47314453  ', '-0.85498047 '], time:0.01038575ms
 out_f16x8packf32: ['-0.11529541 ', '0.47314453  ', '-0.85498047 '], time:0.01027608ms
       out_f16_th: ['-0.11517334 ', '0.47265625  ', '-0.85400391 '], time:0.12926793ms
-------------------------------------------------------------------------------------
-------------------------------------------------------------------------------------
                                        N=4096, K=1024
-------------------------------------------------------------------------------------
          out_f32: ['-0.05985051 ', '-1.44674039 ', '0.0108564   '], time:0.04208398ms
        out_f32x4: ['-0.05985051 ', '-1.44674039 ', '0.0108564   '], time:0.01606226ms
       out_f32_th: ['-0.05982157 ', '-1.44604087 ', '0.01085116  '], time:0.14938354ms
-------------------------------------------------------------------------------------
       out_f16f16: ['-0.05984497 ', '-1.44726562 ', '0.01088715  '], time:0.04402757ms
       out_f16f32: ['-0.05984497 ', '-1.44726562 ', '0.01085663  '], time:0.04187131ms
     out_f16x2f16: ['-0.05984497 ', '-1.44726562 ', '0.01085663  '], time:0.02075338ms
     out_f16x8f16: ['-0.05984497 ', '-1.44726562 ', '0.01087189  '], time:0.01411843ms
 out_f16x8packf16: ['-0.05984497 ', '-1.44726562 ', '0.01087189  '], time:0.01225019ms
 out_f16x8packf32: ['-0.05984497 ', '-1.44726562 ', '0.01085663  '], time:0.01182342ms
       out_f16_th: ['-0.05978394 ', '-1.4453125  ', '0.01084137  '], time:0.16603732ms
-------------------------------------------------------------------------------------
-------------------------------------------------------------------------------------
                                        N=4096, K=2048
-------------------------------------------------------------------------------------
        out_f32x4: ['-0.42005646 ', '-0.83335507 ', '1.09035146  '], time:0.02253604ms
       out_f32_th: ['-0.41995591 ', '-0.83315557 ', '1.09009051  '], time:0.20434618ms
-------------------------------------------------------------------------------------
     out_f16x2f16: ['-0.42016602 ', '-0.83300781 ', '1.09082031  '], time:0.04567075ms
     out_f16x8f16: ['-0.42016602 ', '-0.83300781 ', '1.09082031  '], time:0.02211666ms
 out_f16x8packf16: ['-0.42016602 ', '-0.83300781 ', '1.09082031  '], time:0.01605368ms
 out_f16x8packf32: ['-0.41992188 ', '-0.83300781 ', '1.09082031  '], time:0.01496720ms
       out_f16_th: ['-0.41992188 ', '-0.83300781 ', '1.08984375  '], time:0.15695763ms
-------------------------------------------------------------------------------------
-------------------------------------------------------------------------------------
                                        N=4096, K=4096
-------------------------------------------------------------------------------------
        out_f32x4: ['0.53442508  ', '0.63798147  ', '-0.2443241  '], time:0.19198537ms
       out_f32_th: ['0.53436255  ', '0.63790679  ', '-0.24429551 '], time:0.79486585ms
-------------------------------------------------------------------------------------
     out_f16x8f16: ['0.53466797  ', '0.63818359  ', '-0.24438477 '], time:0.04552341ms
 out_f16x8packf16: ['0.53466797  ', '0.63818359  ', '-0.24438477 '], time:0.02610922ms
 out_f16x8packf32: ['0.53417969  ', '0.63818359  ', '-0.2442627  '], time:0.02316499ms
       out_f16_th: ['0.53466797  ', '0.63818359  ', '-0.24438477 '], time:0.22339869ms
-------------------------------------------------------------------------------------
-------------------------------------------------------------------------------------
                                        N=4096, K=8192
-------------------------------------------------------------------------------------
     out_f16x8f16: ['0.09912109  ', '-0.50732422 ', '0.77587891  '], time:0.19834781ms
 out_f16x8packf16: ['0.09912109  ', '-0.50732422 ', '0.77587891  '], time:0.19342446ms
 out_f16x8packf32: ['0.09912109  ', '-0.50732422 ', '0.77636719  '], time:0.19325924ms
       out_f16_th: ['0.09924316  ', '-0.5078125  ', '0.77685547  '], time:0.88028550ms
-------------------------------------------------------------------------------------
-------------------------------------------------------------------------------------
                                        N=8192, K=8192
-------------------------------------------------------------------------------------
     out_f16x8f16: ['-0.03933716 ', '0.50195312  ', '0.36010742  '], time:0.39289331ms
 out_f16x8packf16: ['-0.03933716 ', '0.50195312  ', '0.36010742  '], time:0.41072202ms
 out_f16x8packf32: ['-0.03930664 ', '0.50146484  ', '0.36010742  '], time:0.41061378ms
       out_f16_th: ['-0.03933716 ', '0.50195312  ', '0.36010742  '], time:2.08191085ms
-------------------------------------------------------------------------------------